<script>
  async function runLiff() {
    try {
      console.log("เริ่ม init LIFF...");
      await liff.init({ liffId: "2007376732-8p2zWOxo" });  // << ใส่ตรง ๆ
      console.log("LIFF init สำเร็จ");

      if (!liff.isLoggedIn()) {
        console.log("ยังไม่ login");
        liff.login();
      } else {
        const profile = await liff.getProfile();
        console.log("profile ได้แล้ว", profile);
        document.getElementById("displayName").textContent = profile.displayName;
        document.getElementById("userId").textContent = profile.userId;
        document.getElementById("statusMessage").textContent = profile.statusMessage || "-";
        document.getElementById("pictureUrl").src = profile.pictureUrl;
        document.getElementById("profile").style.display = "block";
      }
    } catch (e) {
      console.error("LIFF error:", e);
    }
  }

  window.onload = runLiff;
</script>
